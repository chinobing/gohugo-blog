<!-- <script src="https://unpkg.com/quicklink@0.1.1/dist/quicklink.umd.js"></script> -->
{{ if and .Site.Params.lazyImage (not .IsHome) -}}
<script src="{{ .Site.Params.staticPrefix }}{{ "js/lazyload.min.js" | relURL }}"></script>
<script>
  var lazyImage = new LazyLoad({
    container: document.getElementById('article')
  });
</script>
{{ end }}
<script>
  // var posts = document.getElementById('posts-list');
  // posts && quicklink({
    // el: posts,
    // priority: true,
  // });
</script>


{{ if .Store.Get "hasMermaid" }}
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>
{{ end }}

{{ if .Store.Get "hasMarkmap" }}
  <script src="https://cdn.jsdelivr.net/npm/markmap-autoloader@latest"></script>
{{ end }}

{{- if .IsHome -}}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const items = document.querySelectorAll('.list-item');
    let currentIndex = 0;
  
    function showNextItem() {
      // Hide all items
      items.forEach(item => item.style.display = 'none');
      
      // Show current item
      items[currentIndex].style.display = 'block';
      
      // Update index
      currentIndex = (currentIndex + 1) % items.length;
    }
  
    // Show first item immediately
    showNextItem();
    
    // Rotate items every 5 seconds
    setInterval(showNextItem, 5000);
  });
  
  
  </script>
  {{ end }}
